{"version":3,"sources":["webpack:///./components/should_verify_email/should_verify_email.js","webpack:///./components/should_verify_email/index.js","webpack:///./components/common/back_button.jsx"],"names":["ShouldVerifyEmail","React","PureComponent","constructor","props","super","_defineProperty","this","async","email","URLSearchParams","location","search","get","setState","resendStatus","data","error","actions","sendVerificationEmail","state","render","resendConfirm","react_default","a","createElement","className","fa_success_icon","index_es","id","defaultMessage","title","back_button","values","siteName","onClick","handleResend","PropTypes","object","isRequired","string","shape","func","connect","SiteName","getConfig","dispatch","bindActionCreators","BackButton","react__WEBPACK_IMPORTED_MODULE_1___default","react_router_dom__WEBPACK_IMPORTED_MODULE_3__","to","url","react_intl__WEBPACK_IMPORTED_MODULE_2__"],"mappings":"sVAUe,MAAMA,UAA0BC,IAAMC,cASjDC,YAAYC,GACRC,MAAMD,GADSE,EAAAC,KAAA,eAQJC,UACX,MAAMC,EAAS,IAAIC,gBAAgBH,KAAKH,MAAMO,SAASC,QAASC,IAAI,SAEpEN,KAAKO,SAAS,CAACC,aAAc,YAE7B,MAAMC,KAACA,EAADC,MAAOA,SAAeV,KAAKH,MAAMc,QAAQC,sBAAsBV,GACjEO,EACAT,KAAKO,SAAS,CAACC,aAAc,YACtBE,GACPV,KAAKO,SAAS,CAACC,aAAc,cAdjCR,KAAKa,MAAQ,CACTL,aAAc,QAiBtBM,SACI,IAAIC,EAAgB,GAuCpB,MArCgC,YAA5Bf,KAAKa,MAAML,eACXO,EACIC,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,KAAGC,UAAU,uBACTH,EAAAC,EAAAC,cAACE,EAAA,EAAD,MACAJ,EAAAC,EAAAC,cAACG,EAAA,EAAD,CACIC,GAAG,oBACHC,eAAe,iCAOH,YAA5BvB,KAAKa,MAAML,eACXO,EACIC,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,KAAGC,UAAU,sBACTH,EAAAC,EAAAC,cAACG,EAAA,EAAD,CACIC,GAAG,qBACHC,eAAe,gBAEbC,GACER,EAAAC,EAAAC,cAAA,KACIC,UAAU,cACVK,MAAOA,KAInBR,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAkBC,GAAG,2BAOjCN,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACO,EAAA,EAAD,MACAT,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0BACXH,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAACG,EAAA,EAAD,CACIC,GAAG,sBACHC,eAAe,kCACfG,OAAQ,CACJC,SAAU3B,KAAKH,MAAM8B,aAIjCX,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,SACIF,EAAAC,EAAAC,cAACG,EAAA,EAAD,CACIC,GAAG,+BACHC,eAAe,sEAGvBP,EAAAC,EAAAC,cAAA,UACIU,QAAS5B,KAAK6B,aACdV,UAAU,mBAEVH,EAAAC,EAAAC,cAACG,EAAA,EAAD,CACIC,GAAG,sBACHC,eAAe,kBAGtBR,SApGRtB,cACE,CACfW,SAAU0B,IAAUC,OAAOC,WAC3BL,SAAUG,IAAUG,OAAOD,WAC3BrB,QAASmB,IAAUI,MAAM,CACrBtB,sBAAuBkB,IAAUK,KAAKH,aACvCA,aCKII,4BAXUvB,IACrB,MAAOwB,SAAUV,GAAYW,oBAAUzB,GACvC,MAAO,CAACc,aAGgBY,IAAD,CACvB5B,QAAS6B,6BAAmB,CACxB5B,+CACD2B,KAGQH,CAA6C3C,mPCb7C,MAAMgD,UAAmB/C,IAAMC,cAkB1CmB,SACI,OACI4B,EAAAzB,EAAAC,cAAA,OACII,GAAG,cACHH,UAAU,iBAEVuB,EAAAzB,EAAAC,cAACyB,EAAA,EAAD,CACIf,QAAS5B,KAAKH,MAAM+B,QACpBgB,GAAI5C,KAAKH,MAAMgD,KAEfH,EAAAzB,EAAAC,cAAC4B,EAAA,EAAD,CACIxB,GAAG,qBACHC,eAAe,aAEbC,GACEkB,EAAAzB,EAAAC,cAAA,QACII,GAAG,mBACHH,UAAU,yBACVK,MAAOA,KAInBkB,EAAAzB,EAAAC,cAAC4B,EAAA,EAAD,CACIxB,GAAG,kBACHC,eAAe,cA1ClBkB,cACE,CAKfI,IAAKf,IAAUG,OAKfL,QAASE,IAAUK,SAXNM,iBAcK,CAClBI,IAAK","file":"23.ea865a5149d8dd0025d5.js","sourcesContent":["// Copyright (c) 2019-present Vue Technology LLC All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport BackButton from 'components/common/back_button.jsx';\nimport SuccessIcon from 'components/widgets/icons/fa_success_icon';\n\nexport default class ShouldVerifyEmail extends React.PureComponent {\n    static propTypes = {\n        location: PropTypes.object.isRequired,\n        siteName: PropTypes.string.isRequired,\n        actions: PropTypes.shape({\n            sendVerificationEmail: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            resendStatus: 'none',\n        };\n    }\n\n    handleResend = async () => {\n        const email = (new URLSearchParams(this.props.location.search)).get('email');\n\n        this.setState({resendStatus: 'sending'});\n\n        const {data, error} = await this.props.actions.sendVerificationEmail(email);\n        if (data) {\n            this.setState({resendStatus: 'success'});\n        } else if (error) {\n            this.setState({resendStatus: 'failure'});\n        }\n    }\n\n    render() {\n        let resendConfirm = '';\n\n        if (this.state.resendStatus === 'success') {\n            resendConfirm = (\n                <div>\n                    <br/>\n                    <p className='alert alert-success'>\n                        <SuccessIcon/>\n                        <FormattedMessage\n                            id='email_verify.sent'\n                            defaultMessage=' Verification email sent.'\n                        />\n                    </p>\n                </div>\n            );\n        }\n\n        if (this.state.resendStatus === 'failure') {\n            resendConfirm = (\n                <div>\n                    <br/>\n                    <p className='alert alert-danger'>\n                        <FormattedMessage\n                            id='generic_icons.fail'\n                            defaultMessage='Faliure Icon'\n                        >\n                            {(title) => (\n                                <i\n                                    className='fa fa-times'\n                                    title={title}\n                                />\n                            )}\n                        </FormattedMessage>\n                        <FormattedMessage id='email_verify.failed'/>\n                    </p>\n                </div>\n            );\n        }\n\n        return (\n            <div>\n                <BackButton/>\n                <div className='col-sm-12'>\n                    <div className='signup-team__container'>\n                        <h3>\n                            <FormattedMessage\n                                id='email_verify.almost'\n                                defaultMessage='{siteName}: You are almost done'\n                                values={{\n                                    siteName: this.props.siteName,\n                                }}\n                            />\n                        </h3>\n                        <div>\n                            <p>\n                                <FormattedMessage\n                                    id='email_verify.notVerifiedBody'\n                                    defaultMessage='Please verify your email address. Check your inbox for an email.'\n                                />\n                            </p>\n                            <button\n                                onClick={this.handleResend}\n                                className='btn btn-primary'\n                            >\n                                <FormattedMessage\n                                    id='email_verify.resend'\n                                    defaultMessage='Resend Email'\n                                />\n                            </button>\n                            {resendConfirm}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2019-present Vue Technology LLC All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {sendVerificationEmail} from 'mattermost-redux/actions/users';\n\nimport ShouldVerifyEmail from './should_verify_email';\n\nconst mapStateToProps = (state) => {\n    const {SiteName: siteName} = getConfig(state);\n    return {siteName};\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n    actions: bindActionCreators({\n        sendVerificationEmail,\n    }, dispatch),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShouldVerifyEmail);\n","// Copyright (c) 2019-present Vue Technology LLC All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {Link} from 'react-router-dom';\n\nexport default class BackButton extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * URL to return to\n         */\n        url: PropTypes.string,\n\n        /**\n         * An optional click handler that will trigger when the user clicks on the back button\n         */\n        onClick: PropTypes.func,\n    };\n\n    static defaultProps = {\n        url: '/',\n    };\n\n    render() {\n        return (\n            <div\n                id='back_button'\n                className='signup-header'\n            >\n                <Link\n                    onClick={this.props.onClick}\n                    to={this.props.url}\n                >\n                    <FormattedMessage\n                        id='generic_icons.back'\n                        defaultMessage='Back Icon'\n                    >\n                        {(title) => (\n                            <span\n                                id='back_button_icon'\n                                className='fa fa-1x fa-angle-left'\n                                title={title}\n                            />\n                        )}\n                    </FormattedMessage>\n                    <FormattedMessage\n                        id='web.header.back'\n                        defaultMessage='Back'\n                    />\n                </Link>\n            </div>\n        );\n    }\n}\n"],"sourceRoot":""}