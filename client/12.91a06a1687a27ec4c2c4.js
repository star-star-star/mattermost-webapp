(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1839:function(e,t,a){"use strict";a.r(t);var r=a(223),n=a(15),s=a(13),i=a(17),l=(a(95),a(16)),c=a.n(l),m=a(5),o=a.n(m),u=a(887),d=a(967),p=a(911),h=(a(41),a(224)),E=a.n(h),f=a(28),g=a(225),_=a(0),b=a(158),N=a(916),M=a.n(N),v=a(955);function T(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class x extends o.a.PureComponent{constructor(e){super(e),T(this,"submitNext",e=>{e.preventDefault();var t=E.a.findDOMNode(this.refs.name).value.trim();if(!t)return void this.setState({nameError:o.a.createElement(f.c,{id:"create_team.display_name.required",defaultMessage:"This field is required"})});if(t.length<_.Q.MIN_TEAMNAME_LENGTH||t.length>_.Q.MAX_TEAMNAME_LENGTH)return void this.setState({nameError:o.a.createElement(f.c,{id:"create_team.display_name.charLength",defaultMessage:"Name must be {min} or more characters up to a maximum of {max}. You can add a longer team description later.",values:{min:_.Q.MIN_TEAMNAME_LENGTH,max:_.Q.MAX_TEAMNAME_LENGTH}})});const a=this.props.state;a.wizard="team_url",a.team.display_name=t,a.team.name=Object(b.a)(t),this.props.updateParent(a)}),T(this,"handleFocus",e=>{e.preventDefault(),e.currentTarget.select()}),this.state={}}componentDidMount(){Object(g.d)("signup","signup_team_01_name")}render(){var e=null,t="form-group";return this.state.nameError&&(e=o.a.createElement("label",{className:"control-label"},this.state.nameError),t+=" has-error"),o.a.createElement("div",null,o.a.createElement("form",null,o.a.createElement("img",{alt:"signup logo",className:"signup-team-logo",src:M.a}),o.a.createElement("h2",null,o.a.createElement(f.c,{id:"create_team.display_name.teamName",defaultMessage:"Team Name"})),o.a.createElement("div",{className:t},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-9"},o.a.createElement("input",{id:"teamNameInput",type:"text",ref:"name",className:"form-control",placeholder:"",maxLength:"128",defaultValue:this.props.state.team.display_name,autoFocus:!0,onFocus:this.handleFocus,spellCheck:"false"}))),e),o.a.createElement("div",null,o.a.createElement(f.c,{id:"create_team.display_name.nameHelp",defaultMessage:"Name your team in any language. Your team name shows in menus and headings."})),o.a.createElement("button",{id:"teamNameNextButton",type:"submit",className:"btn btn-primary margin--extra",onClick:this.submitNext},o.a.createElement(f.c,{id:"create_team.display_name.next",defaultMessage:"Next"}),o.a.createElement(v.a,null))))}}T(x,"propTypes",{state:c.a.object,updateParent:c.a.func});var y=a(979),w=a(6),A=a(160),C=(a(21),a(1180)),L=a(1177),k=a(988),P=a(896);function O(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class j extends o.a.PureComponent{constructor(e){super(e),O(this,"submitBack",e=>{e.preventDefault();const t=this.props.state;t.wizard="display_name",this.props.updateParent(t)}),O(this,"submitNext",async e=>{e.preventDefault();const t=E.a.findDOMNode(this.refs.name).value.trim(),a=b.a(t),{actions:{checkIfTeamExists:r,createTeam:n}}=this.props;if(!t)return void this.setState({nameError:o.a.createElement(f.c,{id:"create_team.team_url.required",defaultMessage:"This field is required"})});if(a.length<_.Q.MIN_TEAMNAME_LENGTH||a.length>_.Q.MAX_TEAMNAME_LENGTH)return void this.setState({nameError:o.a.createElement(f.c,{id:"create_team.team_url.charLength",defaultMessage:"Name must be {min} or more characters up to a maximum of {max}",values:{min:_.Q.MIN_TEAMNAME_LENGTH,max:_.Q.MAX_TEAMNAME_LENGTH}})});if(a!==t||!/^[a-z]+([a-z\-0-9]+|(__)?)[a-z0-9]+$/g.test(t))return void this.setState({nameError:o.a.createElement(f.c,{id:"create_team.team_url.regex",defaultMessage:"Use only lower case letters, numbers and dashes. Must start with a letter and can't end in a dash."})});for(let e=0;e<_.Q.RESERVED_TEAM_NAMES.length;e++)if(0===a.indexOf(_.Q.RESERVED_TEAM_NAMES[e]))return void this.setState({nameError:o.a.createElement(P.b,{id:"create_team.team_url.taken",defaultMessage:"This URL [starts with a reserved word](!https://docs.vueteams.com/help/getting-started/creating-teams.html#team-url) or is unavailable. Please try another."})});this.setState({isLoading:!0});var s=JSON.parse(JSON.stringify(this.props.state));s.team.type="O",s.team.name=t;const{exists:i}=await r(t);if(i)return this.setState({nameError:o.a.createElement(f.c,{id:"create_team.team_url.unavailable",defaultMessage:"This URL is taken or unavailable. Please try another."})}),void this.setState({isLoading:!1});const{data:l,error:c}=await n(s.team);l?(this.props.history.push("/"+l.name+"/channels/"+_.Q.DEFAULT_CHANNEL),Object(g.d)("signup","signup_team_03_complete")):c&&(this.setState({nameError:c.message}),this.setState({isLoading:!1}))}),O(this,"handleFocus",e=>{e.preventDefault(),e.currentTarget.select()}),this.state={nameError:"",isLoading:!1}}componentDidMount(){Object(g.d)("signup","signup_team_02_url")}render(){let e=null,t="form-group";this.state.nameError&&(e=o.a.createElement("label",{className:"control-label"},this.state.nameError),t+=" has-error");const a="".concat(b.e(),"/"),r=o.a.createElement(C.a,{id:"urlTooltip"},a);let n=o.a.createElement(f.c,{id:"create_team.team_url.finish",defaultMessage:"Finish"});return this.state.isLoading&&(n=o.a.createElement(f.c,{id:"create_team.team_url.creatingTeam",defaultMessage:"Creating team..."})),o.a.createElement("div",null,o.a.createElement("form",null,o.a.createElement("img",{alt:"signup team logo",className:"signup-team-logo",src:M.a}),o.a.createElement("h2",null,o.a.createElement(f.c,{id:"create_team.team_url.teamUrl",defaultMessage:"Team URL"})),o.a.createElement("div",{className:t},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-11"},o.a.createElement("div",{className:"input-group input-group--limit"},o.a.createElement(L.a,{delayShow:_.Q.OVERLAY_TIME_DELAY,placement:"top",overlay:r},o.a.createElement("span",{className:"input-group-addon"},a)),o.a.createElement("input",{id:"teamURLInput",type:"text",ref:"name",className:"form-control",placeholder:"",maxLength:"128",defaultValue:this.props.state.team.name,autoFocus:!0,onFocus:this.handleFocus,spellCheck:"false"})))),e),o.a.createElement("p",null,o.a.createElement(f.c,{id:"create_team.team_url.webAddress",defaultMessage:"Choose the web address of your new team:"})),o.a.createElement("ul",{className:"color--light"},o.a.createElement("li",null,o.a.createElement(f.c,{id:"create_team.team_url.hint1",defaultMessage:"Short and memorable is best"})),o.a.createElement("li",null,o.a.createElement(f.c,{id:"create_team.team_url.hint2",defaultMessage:"Use lowercase letters, numbers and dashes"})),o.a.createElement("li",null,o.a.createElement(f.c,{id:"create_team.team_url.hint3",defaultMessage:"Must start with a letter and can't end in a dash"}))),o.a.createElement("div",{className:"margin--extra"},o.a.createElement(k.a,{id:"teamURLFinishButton",type:"submit",bsStyle:"primary",disabled:this.state.isLoading,onClick:this.submitNext},n)),o.a.createElement("div",{className:"margin--extra"},o.a.createElement("a",{href:"#",onClick:this.submitBack},o.a.createElement(f.c,{id:"create_team.team_url.back",defaultMessage:"Back to previous step"})))))}}O(j,"propTypes",{state:c.a.object,updateParent:c.a.func,actions:c.a.shape({checkIfTeamExists:c.a.func.isRequired,createTeam:c.a.func.isRequired}).isRequired});var S=Object(r.connect)(null,function(e){return{actions:Object(w.bindActionCreators)({checkIfTeamExists:A.checkIfTeamExists,createTeam:A.createTeam},e)}})(j);function D(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class R extends o.a.PureComponent{constructor(e){super(e),D(this,"updateParent",e=>{this.setState(e),this.props.history.push("/create_team/"+e.wizard)});const t={team:{},wizard:"display_name"};this.state=t}render(){const{currentChannel:e,currentTeam:t,customDescriptionText:a,match:r,siteName:n}=this.props;let s="/select_team";return t&&(s="/".concat(t.name),e&&(s+="/channels/".concat(e.name))),o.a.createElement("div",null,o.a.createElement(d.a,null),o.a.createElement(p.a,{url:s}),o.a.createElement("div",{className:"col-sm-12"},o.a.createElement("div",{className:"signup-team__container"},o.a.createElement(y.a,{customDescriptionText:a,siteName:n}),o.a.createElement("div",{className:"signup__content"},o.a.createElement(u.d,null,o.a.createElement(u.b,{path:"".concat(this.props.match.url,"/display_name"),render:e=>o.a.createElement(x,Object.assign({state:this.state,updateParent:this.updateParent},e))}),o.a.createElement(u.b,{path:"".concat(this.props.match.url,"/team_url"),render:e=>o.a.createElement(S,Object.assign({state:this.state,updateParent:this.updateParent},e))}),o.a.createElement(u.a,{to:"".concat(r.url,"/display_name")}))))))}}D(R,"propTypes",{currentTeam:c.a.object,currentChannel:c.a.object,customDescriptionText:c.a.string,siteName:c.a.string,match:c.a.shape({url:c.a.string.isRequired}).isRequired});t.default=Object(r.connect)(function(e){const t=Object(n.getConfig)(e);return{currentChannel:Object(s.getCurrentChannel)(e),currentTeam:Object(i.getCurrentTeam)(e),customDescriptionText:t.CustomDescriptionText,siteName:t.SiteName}})(R)},911:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var r=a(16),n=a.n(r),s=a(5),i=a.n(s),l=a(28),c=a(886);function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class o extends i.a.PureComponent{render(){return i.a.createElement("div",{id:"back_button",className:"signup-header"},i.a.createElement(c.a,{onClick:this.props.onClick,to:this.props.url},i.a.createElement(l.c,{id:"generic_icons.back",defaultMessage:"Back Icon"},e=>i.a.createElement("span",{id:"back_button_icon",className:"fa fa-1x fa-angle-left",title:e})),i.a.createElement(l.c,{id:"web.header.back",defaultMessage:"Back"})))}}m(o,"propTypes",{url:n.a.string,onClick:n.a.func}),m(o,"defaultProps",{url:"/"})},916:function(e,t,a){e.exports=a.p+"files/a03442cd2c7f4902febc7202b961fad9.png"},955:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var r=a(16),n=a.n(r),s=a(5),i=a.n(s),l=a(28);function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class m extends i.a.PureComponent{render(){const e="fa fa-1x fa-angle-right"+(this.props.additionalClassName?" "+this.props.additionalClassName:"");return i.a.createElement(l.c,{id:"generic_icons.next",defaultMessage:"Next Icon"},t=>i.a.createElement("i",{className:e,title:t}))}}c(m,"propTypes",{additionalClassName:n.a.string}),c(m,"defaultProps",{additionalClassName:null})},979:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var r=a(16),n=a.n(r),s=a(5),i=a.n(s),l=a(28);function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class m extends i.a.PureComponent{render(){const{customDescriptionText:e,siteName:t}=this.props;let a=null;return a=e||i.a.createElement(l.c,{id:"web.root.signup_info",defaultMessage:"All team communication in one place, searchable and accessible anywhere"}),i.a.createElement(i.a.Fragment,null,i.a.createElement("h1",{id:"site_name"},t),i.a.createElement("h4",{id:"site_description",className:"color--light"},a))}}c(m,"propTypes",{customDescriptionText:n.a.string,siteName:n.a.string}),c(m,"defaultProps",{siteName:"Vue"})}}]);
//# sourceMappingURL=12.91a06a1687a27ec4c2c4.js.map