(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{1275:function(e,t){},1278:function(e,t){},1841:function(e,t,a){"use strict";a.r(t);var r=a(223),s=a(15),n=a(110),l=a(14),o=(a(71),a(109),a(8),a(568),a(1258)),i=a.n(o),c=a(16),u=a.n(c),d=a(5),m=a.n(d),g=a(28),E=a(886),f=a(0),p=a(949);function _({type:e,title:t}){let a=null;if(e)switch(e){case f.k.LOCAL_STORAGE:a=m.a.createElement(g.c,{id:"error.local_storage.title",defaultMessage:"Cannot Load Vue"});break;case f.k.PERMALINK_NOT_FOUND:a=m.a.createElement(g.c,{id:"permalink.error.title",defaultMessage:"Message Not Found"});break;case f.k.OAUTH_ACCESS_DENIED:a=m.a.createElement(g.c,{id:"error.oauth_access_denied.title",defaultMessage:"Authorization Error"});break;case f.k.OAUTH_MISSING_CODE:a=m.a.createElement(g.c,{id:"error.oauth_missing_code.title",defaultMessage:"Vue needs your help"});break;case f.k.TEAM_NOT_FOUND:a=m.a.createElement(g.c,{id:"error.team_not_found.title",defaultMessage:"Team Not Found"});break;case f.k.CHANNEL_NOT_FOUND:a=m.a.createElement(g.c,{id:"error.channel_not_found.title",defaultMessage:"Channel Not Found"});break;case f.k.PAGE_NOT_FOUND:default:a=m.a.createElement(g.c,{id:"error.not_found.title",defaultMessage:"Page Not Found"})}else a=t||l.fb("error.generic.title","Error");return a}_.propTypes={type:u.a.string,title:u.a.string};var h,k,N,b=a(29);function M({url:e,messageId:t,defaultMessage:a}){return m.a.createElement("a",{href:e,rel:"noopener noreferrer",target:"_blank"},m.a.createElement(g.c,{id:t,defaultMessage:a}))}function O({type:e,message:t,service:a}){let r=null;if(e)switch(e){case f.k.LOCAL_STORAGE:r=m.a.createElement("div",null,m.a.createElement(g.c,{id:"error.local_storage.message",defaultMessage:"Vue was unable to load because a setting in your browser prevents the use of its local storage features. To allow Vue to load, try the following actions:"}),m.a.createElement("ul",null,m.a.createElement("li",null,m.a.createElement(g.c,{id:"error.local_storage.help1",defaultMessage:"Enable cookies"})),m.a.createElement("li",null,m.a.createElement(g.c,{id:"error.local_storage.help2",defaultMessage:"Turn off private browsing"})),m.a.createElement("li",null,m.a.createElement(g.c,{id:"error.local_storage.help3",defaultMessage:"Use a supported browser (IE 11, Chrome 61+, Firefox 60+, Safari 12+, Edge 42+)"}))));break;case f.k.PERMALINK_NOT_FOUND:r=m.a.createElement("p",null,m.a.createElement(g.c,{id:"permalink.error.access",defaultMessage:"Permalink belongs to a deleted message or to a channel to which you do not have access."}));break;case f.k.TEAM_NOT_FOUND:r=m.a.createElement("p",null,m.a.createElement(g.c,{id:"error.team_not_found.message",defaultMessage:"The team you're requesting is private or does not exist. Please contact your Administrator for an invitation."}));break;case f.k.CHANNEL_NOT_FOUND:r=m.a.createElement("p",null,m.a.createElement(g.c,{id:"error.channel_not_found.message",defaultMessage:"The channel you're requesting is private or does not exist. Please contact an Administrator to be added to the channel."}));break;case f.k.OAUTH_MISSING_CODE:r=m.a.createElement("div",null,m.a.createElement("p",null,m.a.createElement(g.c,{id:"error.oauth_missing_code",defaultMessage:"The service provider {service} did not provide an authorization code in the redirect URL.",values:{service:a}})),m.a.createElement("p",null,m.a.createElement(g.c,{id:"error.oauth_missing_code.google",defaultMessage:"For {link} make sure your administrator enabled the Google+ API.",values:{link:m.a.createElement(M,{url:"https://docs.vueteams.com/deployment/sso-google.html",messageId:Object(b.b)("error.oauth_missing_code.google.link"),defaultMessage:"Google Apps"})}})),m.a.createElement("p",null,m.a.createElement(g.c,{id:"error.oauth_missing_code.office365",defaultMessage:"For {link} make sure the administrator of your Microsoft organization has enabled the Vue app.",values:{link:m.a.createElement(M,{url:"https://docs.vueteams.com/deployment/sso-office.html",messageId:Object(b.b)("error.oauth_missing_code.office365.link"),defaultMessage:"Office 365"})}})),m.a.createElement("p",null,m.a.createElement(g.c,{id:"error.oauth_missing_code.gitlab",defaultMessage:"For {link} please make sure you followed the setup instructions.",values:{link:m.a.createElement(M,{url:"https://docs.vueteams.com/deployment/sso-gitlab.html",messageId:Object(b.b)("error.oauth_missing_code.gitlab.link"),defaultMessage:"GitLab"})}})),m.a.createElement("p",null,m.a.createElement(g.c,{id:"error.oauth_missing_code.forum",defaultMessage:"If you reviewed the above and are still having trouble with configuration, you may post in our {link} where we'll be happy to help with issues during setup.",values:{link:m.a.createElement(M,{url:"https://forum.vueteams.com/c/trouble-shoot",messageId:Object(b.b)("error.oauth_missing_code.forum.link"),defaultMessage:"Troubleshooting forum"})}})));break;case f.k.OAUTH_ACCESS_DENIED:r=m.a.createElement("p",null,m.a.createElement(g.c,{id:"error.oauth_access_denied",defaultMessage:"You must authorize Vue to log in with {service}.",values:{service:a}}));break;case f.k.PAGE_NOT_FOUND:default:r=m.a.createElement("p",null,m.a.createElement(g.c,{id:"error.not_found.message",defaultMessage:"The page you were trying to reach does not exist"}))}else r=t?m.a.createElement("p",null,t):m.a.createElement("p",null,m.a.createElement(g.c,{id:"error.generic.message",defaultMessage:"An error has occurred."}));return r}M.propTypes={url:u.a.string.isRequired,messageId:u.a.string.isRequired,defaultMessage:u.a.string.isRequired},M.defaultProps={url:"",messageId:"",defaultMessage:""},O.propTypes={type:u.a.string,message:u.a.string,service:u.a.string};class v extends m.a.PureComponent{componentDidMount(){document.body.setAttribute("class","sticky error")}componentWillUnmount(){document.body.removeAttribute("class")}render(){const{isGuest:e}=this.props,t=new URLSearchParams(this.props.location.search),a=t.get("s");var r=!1;if(a){t.delete("s");const e="-----BEGIN PUBLIC KEY-----\n"+this.props.asymmetricSigningPublicKey+"\n-----END PUBLIC KEY-----",s=i.a.createVerify("sha256");s.update("/error?"+t.toString()),r=s.verify(e,a,"base64")}const s=t.get("type"),n=r&&t.get("title")||"",l=r&&t.get("message")||"",o=r&&t.get("service")||"",c=r&&t.get("returnTo")||"";let u;return u=s===f.k.PERMALINK_NOT_FOUND&&c?m.a.createElement(E.a,{to:c},m.a.createElement(g.c,{id:"error.generic.link",defaultMessage:"Back to Vue"})):s===f.k.TEAM_NOT_FOUND?m.a.createElement(E.a,{to:"/"},m.a.createElement(g.c,{id:"error.generic.link",defaultMessage:"Back to {siteName}",values:{siteName:this.props.siteName}})):s===f.k.CHANNEL_NOT_FOUND&&e?m.a.createElement(E.a,{to:t.get("returnTo")},m.a.createElement(g.c,{id:"error.channelNotFound.guest_link",defaultMessage:"Back"})):s===f.k.CHANNEL_NOT_FOUND?m.a.createElement(E.a,{to:t.get("returnTo")},m.a.createElement(g.c,{id:"error.channelNotFound.link",defaultMessage:"Back to {defaultChannelName}",values:{defaultChannelName:f.i.DEFAULT_CHANNEL_UI_NAME}})):s===f.k.OAUTH_ACCESS_DENIED||s===f.k.OAUTH_MISSING_CODE?m.a.createElement(E.a,{to:"/"},m.a.createElement(g.c,{id:"error.generic.link_login",defaultMessage:"Back to login page"})):m.a.createElement(E.a,{to:"/"},m.a.createElement(g.c,{id:"error.generic.link",defaultMessage:"Back to {siteName}",values:{siteName:this.props.siteName}})),m.a.createElement("div",{className:"container-fluid"},m.a.createElement("div",{className:"error__container"},m.a.createElement("div",{className:"error__icon"},m.a.createElement(p.a,null)),m.a.createElement("h2",null,m.a.createElement(_,{type:s,title:n})),m.a.createElement(O,{type:s,message:l,service:o}),u))}}h=v,k="propTypes",N={location:u.a.object.isRequired,asymmetricSigningPublicKey:u.a.string,siteName:u.a.string,isGuest:u.a.bool},k in h?Object.defineProperty(h,k,{value:N,enumerable:!0,configurable:!0,writable:!0}):h[k]=N;t.default=Object(r.connect)(function(e){const t=Object(s.getConfig)(e),a=Object(n.getCurrentUser)(e);return{siteName:t.SiteName,asymmetricSigningPublicKey:t.AsymmetricSigningPublicKey,isGuest:Boolean(a&&Object(l.W)(a))}})(v)}}]);
//# sourceMappingURL=18.bd4b75d7713a147710ea.js.map